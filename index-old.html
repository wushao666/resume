<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>吴少林 - 个人简历</title>
  <!-- 新增打印样式表 -->
  <link rel="stylesheet" href="./style/print.css" media="print">
  <style>
    /* 确保导出时进度条颜色正确 */
    @media print,
    screen {
      .progress-bar {
        position: relative;
        overflow: hidden;
      }

      .progress {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        background-color: #007BFF !important;
      }
    }

    :root {
      --bg-color: #f4f4f4;
      --card-bg-color: #ffffff;
      --text-color: #333333;
      --link-color: #007BFF;
      --link-hover-color: #0056b3;
      --divider-color: #e8e8e8;
      --progress-bg-color: #e9ecef;
      --progress-bar-color: #007BFF;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      padding: 0;
      scroll-behavior: smooth;
    }
    ul, ol {
      margin-top: 10px;
      margin-bottom: 10px;
      /* padding-left: 10px; */
    }
    .card {
      background-color: var(--card-bg-color);
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin: 40px auto;
      /* max-width: 85%; */
      max-width: 75%;
      padding: 30px;
      transition: box-shadow 0.3s ease;
    }

    .card:hover {
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 30px;
    }

    .avatar {
      border-radius: 50%;
      width: 120px;
      height: 120px;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .avatar:hover {
      transform: scale(1.1);
    }

    .name-contact {
      flex-grow: 1;
      margin-left: 20px;
    }

    .name {
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .position {
      font-size: 18px;
      color: #666;
      margin-bottom: 10px;
    }

    .contact {
      font-size: 16px;
      line-height: 1.6;
    }

    .contact a {
      color: var(--link-color);
      text-decoration: none;
      margin-right: 15px;
      transition: color 0.3s ease;
    }

    .contact a:hover {
      color: var(--link-hover-color);
    }

    .intro {
      font-family: 'Dancing Script', cursive;
      position: relative;
      padding-left: 20px;
      margin-bottom: 30px;
    }

    .intro::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 3px;
      background-color: var(--link-color);
    }

    .section {
      margin-bottom: 30px;
      position: relative;
    }

    .section:not(:last-child)::after {
      content: '';
      position: absolute;
      bottom: -15px;
      left: 0;
      right: 0;
      height: 1px;
      background-color: var(--divider-color);
    }

    .section h2 {
      font-size: 24px;
      margin-bottom: 15px;
      padding-bottom: 10px;
    }

    .timeline-item {
      margin-bottom: 20px;
    }

    .timeline-item h3 {
      font-size: 20px;
      margin-bottom: 5px;
    }

    .timeline-item p {
      margin: 0;
      line-height: 1.6;
    }

    .progress-bar {
      background-color: var(--progress-bg-color);
      border-radius: 5px;
      /* height: 20px; */
      height: 24px;
      margin-bottom: 15px;
      position: relative;
    }

    .progress {
      background-color: var(--progress-bar-color);
      border-radius: 5px;
      height: 100%;
      text-align: left;
      padding-left: 10px;
      color: white;
      font-size: 14px;
      line-height: 24px;
    }

    .radar-chart {
      width: 100%;
      height: 230px;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .fade-in {
      animation: fadeIn 1s ease-out;
    }

    .skills-container {
      display: flex;
      gap: 20px;
      width: 60%;
    }

    .progress-container {
      flex: 1;
    }

    .radar-container {
      flex: 1;
    }

    .footer-contact {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }

    .footer-contact a {
      color: var(--link-color);
      font-size: 24px;
      transition: color 0.3s ease;
    }

    .footer-contact a:hover {
      color: var(--link-hover-color);
    }

    .button-container {
      text-align: center;
      margin-top: 40px;
    }

    button {
      background-color: var(--link-color);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: var(--link-hover-color);
    }

    /* 强制背景色声明 */
    .card {
      background: white !important;
      position: relative;
    }

    /* 确保进度条背景可见 */
    .progress-bar {
      background-color: #e9ecef !important;
      position: relative;
    }

    /* 在style标签中更新预览容器样式 */
    .preview-container {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      z-index: 999;
    }

    .editor-panel {
      width: 80%;
      height: 90vh;
      margin: 5vh auto;
      background: #f0f2f5;
      border-radius: 10px;
      display: flex;
      flex-direction: column;
    }

    .editor-content {
      display: flex;
      flex: 1;
      padding: 20px;
    }

    .button-row {
      padding: 20px;
      display: flex;
      justify-content: center;
      /* border-top: 1px solid #eee; */
      box-sizing: border-box;
      padding-top: 10px;
    }

    /* 新增预览布局样式 */
    .preview-container {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      /* 修正1: rgba格式错误 */
      z-index: 999;
      display: flex;
      /* 修正2: 单独声明flex布局 */
      flex-direction: column;
      /* 垂直排列 */
      align-items: center;
      /* 水平居中 */
    }

    .editor-panel {
      display: flex;
      height: calc(100vh - 120px);
      /* 留出底部空间 */
      width: 80%;
      margin: 20px auto;
      gap: 2%;
      position: relative;
    }

    #markdown-input {
      width: 49%;
      height: 100%;
      padding: 15px;
      background: #f8f9fa;
      border: 2px solid #dee2e6;
      border-radius: 8px;
      font-size: 14px;
      resize: none;
    }

    #markdown-preview {
      width: 49%;
      height: 100%;
      background: white;
      padding: 25px;
      border-radius: 8px;
      overflow-y: auto;
    }

    .preview-controls {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 15px;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
  <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <!-- 新增Markdown编辑器库 -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body>
  <div class="button-container">
    <button id="download-pdf">下载简历PDF</button>
    <button id="preview-pdf">预览简历PDF</button>
    <button id="preview-md">从 Markdown 预览</button>
    <!-- <button id="export-pdf">导出为 PDF</button>
    <button id="export-image">导出为图片</button> -->
  </div>
  <div class="card" id="resume-card">
    <div class="header">
      <img class="avatar"
        src="https://p3-flow-imagex-sign.byteimg.com/ocean-cloud-tos/image_generation/459c82913030032351c934812b7ddd09_1741676356514132792.png~tplv-a9rns2rl98-image.png?rk3s=25bff839&x-expires=1773212356&x-signature=OvpjH6KB8ArCF44r9%2FHy91n%2BKCQ%3D"
        alt="吴少林">
      <div class="name-contact">
        <div class="name">吴少林</div>
        <div class="position">前端工程师</div>
        <div class="contact">
          <a href="tel:199-1032-5138"><i class="fa-solid fa-phone"></i> 电话: 199-1032-5138</a>
          <a href="mailto:wslsdust@163.com"><i class="fa-solid fa-envelope"></i> 邮箱:
            wslsdust@163.com</a>
          <a href="#"><i class="fa-brands fa-weixin"></i> 微信: shawnwwu</a>
          <a href="https://github.com/codevvvv9"><i class="fa-brands fa-github"></i> codevvvv9</a>
          <a href="https://vvushaolin.com"><i class="fa-solid fa-blog"></i> Blog</a>
        </div>
      </div>
    </div>
    <div class="intro fade-in">
      <ul>
        <li>山东科技大学本、硕，英语六级，校级优秀毕业论文</li>
        <li>7年前端经验，曾入职【腾讯】【完美世界】等国内一线大厂，对【游戏、直播、AI、音视频】等方向有独到的见解</li>
        <li>曾主导多款大型前端架构设计，主导并成功落地多款大厂应用，包括：AI 驱动应用开发、BFF 层设计、直播互动方案 等</li>
        <li>有丰富的产品设计、市场运营、项目管理经验，包括：运营平台建设、运营数据分析、优化商业运营策略等</li>
      </ul>
    </div>
    <div class="section fade-in">
      <h2>工作经历</h2>
      <div class="timeline-item">
        <h3>腾讯集团-前端工程师</h3>
        <p>2024.01 ~ 2025.02</p>
        <ol>
          <li>主导建设轩辕传奇端游、手游的全平台营销活动体系，业务线提效</li>
          <li>负责TGF 等海外版游戏营销体系搭建</li>
          <li>负责轩辕传奇项目管理，助力开发游戏版本，项目工程化优化，重要里程碑确认，运营埋点数据分析、优化游戏投放策略等</li>
          <li>离职原因：个人职业规划</li>
        </ol>
      </div>
      <div class="timeline-item">
        <h3>完美世界 - 前端工程师</h3>
        <p>2022-12 ~ 2023-08</p>
        <ol>
          <li>主导“虚拟世界”的运营工具开发，设计经验价值清单原则，完成DeepLearning运营平台、虚拟人运营工具开发</li>
          <li>主导2个潜在的AI业务场景MVP版本开发，拓宽产品的AI业务能力，推动部门选择高价值AI业务方向</li>
          <li>离职原因：业务线被裁撤</li>
        </ol>
      </div>
      <div class="timeline-item">
        <h3>北京获得场景 - 前端工程师</h3>
        <p>2021-06 ~ 2022-10</p>
        <ol>
          <li>负责云课堂业务线的web端开发，重构新版class-admin系统，开发class-ui互动组件</li>
          <li>主导音视频sdk优化，设计并开发设备检测模块，解决进入课堂难、直播卡顿延迟问题，构建低延迟的实时直播互动系统</li>
          <li>离职原因：国家K12教育双减政策，行业萎缩</li>
        </ol>
      </div>
      <div class="timeline-item">
        <h3>北京同方威视 - 前端工程师</h3>
        <p>2018-07 ~ 2021-06</p>
        <ol>
          <li>负责威视云的项目管理，主导并落地成都天府国际机场的AI识别配置管理系统、3D大屏展示系统</li>
          <li>负责WEKNOW智能硬件的开发，在新疆乌鲁木齐、广州、珠海、香港、桂林海关，被大量使用</li>
          <li>负责AI中心的数据集中管理平台开发，支撑X光、CT设备、H986车体、人脸关键点、人脸框图等算法部门的AI应用</li>
          <li>离职原因：个人职业规划</li>
        </ol>
      </div>
    </div>
    <div class="section fade-in">
      <h2>项目经验</h2>
      <div class="timeline-item">
        <h3>轩辕传奇游戏营销活动体系建设</h3>
        <p>项目背景：轩辕传奇游戏用户活跃度连续 3 个月下滑 15%，急需通过营销活动激活、拉新，传统活动开发需市场、设计、开发团队串行协作，活动平均迭代周期达 14 天，多渠道（PC/H5/WeGame/手Q/ 微信）活动流水目标1500w</p>
        <p>个人职责：</p>
        <ul>
          <li>搭建全平台营销活动体系。制定轩辕传奇营销策略，快速推广新版本，开发多渠道的活动</li>
          <li>主导业务线提效。主导并落地低代码平台。实践基于私有组件库的AI搭建系统，储备业务的AI提效能力</li>
          <li>主导业务线提效。主导并落地低代码平台。实践基于私有组件库的AI搭建系统，储备业务的AI提效能力</li>
          <li>负责项目管理工作。包括：助力开发游戏版本，重要里程碑确认，运营埋点数据分析、优化游戏投放策略等</li>
        </ul>
        <p>项目成果：在游戏活跃度降低的背景下，通过注入埋点sdk、A/B 测试、归因模型等数据分析方法，预测并优化了游戏投放策略，助力开发多个轩辕端游版本、手游热血版，策划南京阅江楼联动轩辕IP，转化端游前四的公会成员进入手游，促使游戏月均流水提升50%。通过低代码平台、通用运营模板，将通用营销活动上线周期从14天缩短至 4天</p>
      </div>
      <div class="timeline-item">
        <h3>TGF 等海外版游戏营销体系建设</h3>
        <p>项目背景：需要拓展TGF海外版游戏市场，提高游戏曝光度、活跃度，龙息神寂海外版本要重新上线，需要预热市场</p>
        <p>个人职责：</p>
        <ul>
          <li>TGF 海外版营销体系搭建。接入海外入口，推动符合东南亚、欧洲的数据合规，推动海外网络优化，开发活动</li>
          <li>负责海外数据分析系统搭建。优化埋点数据平台，接入海外游戏数据，分析海外活动数据，调整运营策略</li>
          <li>负责龙息神寂海外预热活动。开发预抽卡活动，吸引用户预约游戏、储备游戏资源</li>
        </ul>
        <p>项目成果：开发Discord\Twtich\Steam\Apple\Google等海外平台登录SDK，结合人拉人（2期）、主播狂欢夜（3期）营销活动，提高游戏曝光度、活跃度，7-9月连续三月Steam好评率前三，海外Twtich平台多名头部主播直播TGF游戏。开发龙息神寂海外版预抽卡，第一天预约用户100w，新型卡牌类游戏登上Discord讨论区热搜</p>
      </div>
      <div class="timeline-item">
        <h3>虚拟世界</h3>
        <p>项目背景：“虚拟世界”是一款元宇宙产品， 但是迭代过程中，缺乏高效的运营平台，导致大语言模型调试繁琐，虚拟人的运营管理、AI 技术落地场景的选择效率较低，影响了产品的迭代和发展，需要快速提效的平台</p>
        <p>个人职责：</p>
        <ul>
          <li>主导DeepLearning运营平台设计与开发。开发大模型对话系统，对话智能辅助系统，session对话质检平台</li>
          <li>主导虚拟人运营工具开发。采用动态配置化表单，统一管理 PGC/UGC 内容，Pont自动生成 API，技术提效</li>
          <li>负责AI 场景的MVP版开发。分析数字人直播、AI养成系统等潜在场景。开发“西部小镇”、“永生” 产品的 MVP 版本</li>
        </ul>
        <p>项目成果：设计虚拟人的经验价值清单原则，基于这个原则，完成DeepLearning运营平台，算法调试效率提升 30%，产出多个微调的垂类大模型，运营部门的session合格率提高了45%，解决LLM模型的五类问题。通过虚拟人运营工具提效，配置时间减少 50%。开发多个MVP版本，验证多个AI 落地场景，推动部门选择高价值AI业务方向</p>
      </div>
      <div class="timeline-item">
        <h3>TGF 等海外版游戏营销体系建设</h3>
        <p>项目背景：需要拓展TGF海外版游戏市场，提高游戏曝光度、活跃度，龙息神寂海外版本要重新上线，需要预热市场</p>
        <p>个人职责：</p>
        <ul>
          <li>TGF 海外版营销体系搭建。接入海外入口，推动符合东南亚、欧洲的数据合规，推动海外网络优化，开发活动</li>
          <li>负责海外数据分析系统搭建。优化埋点数据平台，接入海外游戏数据，分析海外活动数据，调整运营策略</li>
          <li>负责龙息神寂海外预热活动。开发预抽卡活动，吸引用户预约游戏、储备游戏资源</li>
        </ul>
        <p>项目成果：开发Discord\Twtich\Steam\Apple\Google等海外平台登录SDK，结合人拉人（2期）、主播狂欢夜（3期）营销活动，提高游戏曝光度、活跃度，7-9月连续三月Steam好评率前三，海外Twtich平台多名头部主播直播TGF游戏。开发龙息神寂海外版预抽卡，第一天预约用户100w，新型卡牌类游戏登上Discord讨论区热搜</p>
      </div>
      <div class="timeline-item">
        <h3>云课堂直播</h3>
        <p>项目背景：线上教育场景下，云课堂期望构建低延迟的实时直播互动系统，目前面临进入课堂困难，客户投诉率高、售前无法快速解决的问题，实时音视频卡顿率超 15%、上下麦异常</p>
        <p>个人职责：</p>
        <ul>
          <li>负责云课堂web端开发。负责云课堂课堂内的1vn、1v1、会议模式、网络研讨会等多场景的web开发，梳理上麦链路关键节点，完成魔镜上报系统，解决排查问题慢的问题</li>
          <li>负责云课堂新版class-admin系统开发。分析旧的前后端耦合的业务功能，重构新版云课堂的admin管理系统</li>
          <li>负责class-ui、云课堂sdk开发。负责云课堂内class-ui互动组件，设计并开发设备检测模块，解决进入课堂难的问题，重构流媒体sdk上麦模块，解决直播卡顿延迟问题</li>
        </ul>
        <p>项目成果：设计并开发设备检测模块，解决了进入课堂难的问题，投诉率每100堂课下降30%，通过设备热插拔检测、编解码能力检测、动态调整音视频码率、自适应网络，解决无法上麦、直播卡顿延迟问题，拿下浙江海亮、深圳青豆辅导学校两个大客户</p>
      </div>
      <div class="timeline-item">
        <h3>威视云</h3>
        <p>项目背景：为降低公司和客户的运营成本，将成都天府国际机场的安检服务上云，从传统机房迁移到威视云，需要对应的AI 识别配置管理系统、成都天府机场3D大屏展示系统</p>
        <p>个人职责：</p>
        <ul>
          <li>主导web端系统项目管理。确定里程碑节点、客户核心需求，协调Flexone智能审图资源，设计实现系统</li>
          <li>负责系统的go后端开发。负责开发云管理服务、AI配置管理服务、资源监控服务，处理底层K8s集群、OpenStack集群、Flexone智能审图服务数据</li>
        </ul>
        <p>项目成果：带领2个前端，4个月内完成AI 识别配置管理系统、成都天府机场3D大屏展示系统，保证成都天府机场客户能实时检测、分配、规划云资源，通过机场中控室的3D展示，获取安检识别效果、过包情况、安检通道是否畅通，操作中心一键控制安检机，提高机场安检工作效率</p>
      </div>
      <div class="timeline-item">
        <h3>WEKNOW智能盒子</h3>
        <p>项目背景：为了增加公司安检机的AI能力，开发了WEKNOW智能盒子，内嵌到安检机内部，需要一套web端的管理系统，方便安检人员使用</p>
        <p>个人职责：</p>
        <ul>
          <li>负责产品原型设计与业务沟通。负责与产品开发部、海关地铁安检人员沟通操作需求，完成对应原型交互设计，设计与安检机的通信协议报文、通信方式</li>
          <li>负责WEKNOW100\WEKNOW500开发。开发web端应用内嵌到 QT 客户端，完成与底层硬件设备的交互工作，支持多地海关定制化管理系统需求
          </li>
        </ul>
        <p>项目成果：完成 WEKNOW 两个系列的 web 端多个地区系统的开发，给传统安检机提供了AI管理的能力，疫情期间，获得新疆乌鲁木齐、广州、珠海、香港、桂林海关口岸的大量订单，有效支撑了公司安检机的智能化改革
        </p>
      </div>
    </div>
    <div class="section fade-in">
      <h2>专业技能</h2>
      <div class="skills-container">
        <div class="progress-container">
          <div class="progress-bar">
            <div class="progress" style="width: 80%;">前端技能（HTML5、CSS3、JavaScript、TypesScript、Vue.js、React） - 80%</div>
          </div>
          <div class="progress-bar">
            <div class="progress" style="width: 60%;">前端工程化（webpack5、vite、BFF层、性能优化） - 60%</div>
          </div>
          <div class="progress-bar">
            <div class="progress" style="width: 50%;">后端技术（go、Node.js、nest.js） - 50%</div>
          </div>
          <div class="progress-bar">
            <div class="progress" style="width: 60%;">实时音视频开发（webrtc） - 60%</div>
          </div>
          <div class="progress-bar">
            <div class="progress" style="width: 25%;">AIGC（Prompt、RAG、langchain） - 25%</div>
          </div>
        </div>
        <!-- <div class="radar-container">
          <canvas class="radar-chart" id="radarChart"></canvas>
        </div> -->
      </div>
      <script>
        const ctx = document.getElementById('radarChart').getContext('2d');
        const myRadarChart = new Chart(ctx, {
          type: 'radar',
          data: {
            labels: ['前端技能', '后端技术', '数据库', '人工智能'],
            datasets: [{
              label: '技能水平',
              data: [90, 85, 80, 70],
              backgroundColor: 'rgba(0, 123, 255, 0.2)',
              borderColor: 'rgba(0, 123, 255, 1)',
              borderWidth: 1
            }]
          },
          options: {
            scales: {
              r: {
                min: 0,
                max: 100
              }
            }
          }
        });
      </script>
    </div>
    <div class="footer-contact">
      <a href="tel:199-1032-5138"><i class="fa-solid fa-phone"></i></a>
      <a href="mailto:wslsdust@163.com"><i class="fa-solid fa-envelope"></i></a>
      <a href="#shawnwwu"><i class="fa-brands fa-weixin"></i></a>
      <a href="https://github.com/codevvvv9"><i class="fa-brands fa-github"></i></a>
    </div>
  </div>
  <script>
    // 添加下载PDF按钮事件处理
    document.getElementById('download-pdf').addEventListener('click', function () {
      const link = document.createElement('a');
      link.href = './吴少林-2025前端工程师-19910325138.pdf';
      link.download = '吴少林-2025前端工程师-19910325138.pdf';
      link.click();
    });

    // 添加预览PDF按钮事件处理
    document.getElementById('preview-pdf').addEventListener('click', function () {
      window.open('./吴少林-2025前端工程师-19910325138.pdf', '_blank');
    });
    // document.getElementById('export-pdf').addEventListener('click', function () {
    //   const card = document.getElementById('resume-card');

    //   html2canvas(card, {
    //     scale: 2,
    //     useCORS: true,
    //     allowTaint: true,
    //     backgroundColor: "#ffffff",
    //     onclone: function (clonedDoc) {
    //       const clonedCard = clonedDoc.getElementById('resume-card');
    //       // 确保进度条颜色
    //       clonedDoc.querySelectorAll('.progress').forEach(progress => {
    //         progress.style.backgroundColor = '#007BFF';
    //         progress.style.color = 'white';
    //       });
    //       // 确保雷达图显示
    //       const canvas = clonedDoc.querySelector('.radar-chart');
    //       if (canvas) {
    //         canvas.style.maxHeight = '300px';
    //       }
    //     }
    //   }).then(canvas => {
    //     const imgData = canvas.toDataURL('image/png');
    //     const pdf = new jspdf.jsPDF({
    //       orientation: 'portrait',
    //       unit: 'px',
    //       format: [canvas.width, canvas.height]
    //     });

    //     pdf.addImage(imgData, 'PNG', 0, 0, canvas.width, canvas.height);
    //     pdf.save('resume.pdf');
    //   });
    // });

    // document.getElementById('export-image').addEventListener('click', function () {
    //   const card = document.getElementById('resume-card');

    //   html2canvas(card, {
    //     scale: 2,
    //     useCORS: true,
    //     allowTaint: true,
    //     backgroundColor: "#ffffff",
    //     onclone: function (clonedDoc) {
    //       const clonedCard = clonedDoc.getElementById('resume-card');
    //       // 确保进度条颜色
    //       clonedDoc.querySelectorAll('.progress').forEach(progress => {
    //         progress.style.backgroundColor = '#007BFF';
    //         progress.style.color = 'white';
    //       });
    //       // 确保雷达图显示
    //       const canvas = clonedDoc.querySelector('.radar-chart');
    //       if (canvas) {
    //         canvas.style.maxHeight = '300px';
    //       }
    //     }
    //   }).then(canvas => {
    //     canvas.toBlob(blob => {
    //       const link = document.createElement('a');
    //       link.download = 'resume.png';
    //       link.href = URL.createObjectURL(blob);
    //       link.click();
    //     }, 'image/png');
    //   });
    // });
    document.addEventListener('DOMContentLoaded', function () {
      document.getElementById('preview-md').addEventListener('click', function () {
        const previewHtmlOld = `
        <div class="preview-container" style="display: flex: align-items: center; justify-content: center;">
            <div class="editor-panel" style="height: 85vh;">
                <textarea id="markdown-input" 
                          placeholder="粘贴Markdown内容..." 
                          style="width: 48%; height: 80%; margin: 20px 1%;"></textarea>
                <div id="markdown-preview" 
                     class="card" 
                     style="width: 48%; height: 80%; overflow: auto; margin: 20px 1%;">
                </div>
                <div style="text-align: center; padding: 20px; width: 100%;">
                    <button id="confirm-replace" 
                            style="padding: 10px 20px; margin: 0 10px;">
                        确认替换主内容
                    </button>
                    <button onclick="document.querySelector('.preview-container').remove()" 
                            style="padding: 10px 20px; margin: 0 10px;">
                        关闭
                    </button>
                </div>
            </div>
        </div>`;
        const previewHtml = `
          <div class="preview-container" style="display: flex: align-items: center; justify-content: center;">
              <div class="editor-panel">
                  <div class="editor-content" style="box-sizing: border-box;display: flex; width: 100%; height: calc(100% - 80px);">
                      <textarea id="markdown-input" 
                          placeholder="粘贴Markdown内容..." 
                          style="flex: 1; margin: 10px; padding: 10px; border: 2px solid #dee2e6; border-radius: 8px; font-size: 14px; resize: none;"></textarea>
                      <div id="markdown-preview" 
                          class="card" 
                          style="flex: 1; margin: 10px; padding: 10px; border-radius: 8px; overflow-y: auto;">
                      </div>
                  </div>
                  <div class="button-row" style="width: 100%;">
                      <button id="confirm-replace" 
                          style="padding: 10px 20px; margin: 0 10px; min-width: 120px;">
                          确认替换
                      </button>
                      <button onclick="document.querySelector('.preview-container').remove()" 
                          style="padding: 10px 20px; margin: 0 10px; min-width: 120px;">
                          关闭
                      </button>
                  </div>
              </div>
          </div>`;
        document.body.insertAdjacentHTML('beforeend', previewHtml);

        // 实时预览逻辑
        const input = document.getElementById('markdown-input');
        const preview = document.getElementById('markdown-preview');
        input.addEventListener('input', function (e) {
          preview.innerHTML = marked.parse(e.target.value);
          // 应用原有样式规则
          applyResumeStyles(preview);
        });

        // 确认替换逻辑
        document.getElementById('confirm-replace').addEventListener('click', function () {
          const markdownContent = input.value;
          const resumeCard = document.getElementById('resume-card');

          // 创建带样式的容器
          const newContent = document.createElement('div');
          newContent.className = 'fade-in';
          newContent.style.animationDuration = '0.5s';
          newContent.innerHTML = marked.parse(markdownContent);

          // 应用样式规则
          applyResumeStyles(newContent);

          // 替换主内容
          resumeCard.innerHTML = newContent.innerHTML;

          // 重新初始化图表等动态元素
          initCharts();

          // 关闭预览
          document.querySelector('.preview-container').remove();
        });

        // 样式应用函数
        function applyResumeStyles(container) {
          // 为标题添加样式
          container.querySelectorAll('h2').forEach(h2 => {
            h2.className = 'section fade-in';
            h2.innerHTML = `<span style="font-size: 24px;">${h2.textContent}</span>`;
          });

          // 为列表项添加时间线样式
          container.querySelectorAll('ul, ol').forEach(ul => {
            ul.className = 'timeline-item';
            ul.querySelectorAll('li').forEach(li => {
              li.style.margin = '10px 0';
              li.style.lineHeight = '1.6';
            });
          });

          // 为技能条添加进度样式
          container.querySelectorAll('div:has(> .progress)').forEach(div => {
            div.className = 'progress-bar';
          });
        }

        // 图表初始化函数
        function initCharts() {
          // 在此添加雷达图等初始化逻辑
        }
      });
    });
  </script>
</body>

</html>